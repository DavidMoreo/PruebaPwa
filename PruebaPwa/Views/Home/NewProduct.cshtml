
@{
    ViewBag.Title = "Cart";
}



<style>
    #btnSave {
        background-color: green;
        border: none;
        height: auto;
        width: 90px;
        border-radius: 10px;
        color: white;
        padding: 10px;
        box-shadow: 0px 0px 5px gray;
    }

    input {
        border-radius: 8px;
        width: 250px;
        text-align: center;
        font-size: 15px;
        font-weight: bold;
    }
</style>
<h2>New Product</h2>

<div class="row mb-2">
    <form action="" method="post" id="ForProduct" name="ForProduct">
        <div class="col-md-6">
            <div style="display:flex; flex-direction:column; align-items:center;">
                <h2>Nombre</h2>
                <input type="text" name="name" value="" />
            </div>
        </div>
        <div class="col-md-6">
            <div style="display:flex; flex-direction:column; align-items:center;">
                <h2>Cantidad</h2>
                <input type="number" name="cantidad_p" value="1" min="1" />
            </div>
        </div>
        <div class="col-md-6">
            <div style="display:flex; flex-direction:column; align-items:center;">
                <h2>Valor unidad</h2>
                <input type="number" name="value" value="" min="1" />
            </div>
        </div>
        <div class="col-md-6">
            <div style="display:flex; flex-direction:column; align-items:center;">
                <h2>Url Imagen</h2>
                <input type="url" name="img" value="" />
            </div>
        </div>
    </form>
    <div class="col-md-12">
        <div style="display:flex; flex-direction:column; align-items:center; margin-top:50px;">
            <button id="btnSave" onclick="setSaveProduct()">Guardar</button>
        </div>
    </div>
</div>

<script>
      function setSaveProduct() {
        let _Form = document.getElementById("ForProduct");
        console.log(_Form);
            let _Peticion = new XMLHttpRequest();
            var url = '@Url.Action("NewProduct", "Home")';
            var Contenido = new FormData(_Form);
            _Peticion.open("POST", url);
            _Peticion.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    if (this.responseText.includes("Msg")) {
                        Alert(this.responseText, "");
                    } else {
                        Alert(this.responseText, "Reload");
                    }
                }
            }
        _Peticion.send(Contenido);

    }
</script>
